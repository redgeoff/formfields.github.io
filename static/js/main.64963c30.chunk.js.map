{"version":3,"sources":["../../../../mson-server/lib/client/api/index.js","../../../../mson-server/lib/client/api/app.js","../../../../mson-server/lib/client/api/component.js","../../../../mson-server/lib/client/api/record.js","../../../../mson-server/lib/client/utils.js","../../../../mson-server/lib/client/api/user.js","../../../../mson-server/lib/client/user.js","../../../../mson-server/lib/client/cookie.js","../../../../mson-server/lib/client/node-cookie.js","../../../../mson-server/lib/client/client.js","../../components/account/change-password.ts","../../components/account/login.ts","../../components/account/recover-password-editor.ts","../../components/account/reset-password-editor.ts","../../components/account/view-and-edit-account.ts","../../components/contact-us/contact-us.ts","../../components/contact-us/contact-us-wrapper.ts","../../components/contact-us/public-contact-us.ts","../../components/contacts/contact-store.ts","../../components/contacts/contact.ts","../../components/contacts/contacts.ts","../../components/contacts/dynamodb/contacts-dynamodb.ts","../../components/contacts/dynamodb-connector/contacts-dynamodb-connector.ts","../../components/contacts/generated-backend/index.ts","../../components/contacts/local-storage/index.ts","../../components/contacts/mysql/contacts-mysql.ts","../../components/contacts/mysql-connector/contacts-mysql-connector.ts","../../components/form-builder/index.ts","../../components/users/user.ts","../../components/users/users.ts","../../components/users/user-signup.ts","../../components/users/user-store.ts","../../components/app.ts","../../components/menu-items.ts","mson-app.ts","register-client.ts","index.ts","../../../../mson-server/lib/client/group-client.js","../../../../mson-server/lib/client/api/session-user.js","../../../../mson-server/lib/client/index.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","_classCallCheck2","_app","_component","_record","_user","API","props","this","app","component","record","user","_regenerator","_asyncToGenerator2","_createClass2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_taggedTemplateLiteral2","_graphqlTag","_groupClient","_templateObject7","data","_templateObject6","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_isNativeReflectConstruct","result","Super","NewTarget","constructor","arguments","apply","_templateObject5","_templateObject4","_templateObject3","_templateObject2","_templateObject","CREATE_APP","UPDATE_APP","ARCHIVE_APP","RESTORE_APP","DESTROY_APP","App","_GroupClient","_super","key","_create","mark","_callee","wrap","_context","prev","next","abrupt","_client","mutate","mutation","variables","name","stop","_x","_get","_callee2","users","components","definitions","GET_APP","_context2","includeUsers","includeComponents","includeDefinitions","query","id","usersFirst","usersAfter","componentsFirst","componentsAfter","componentsStatus","_x2","_getAllAsArray2","_callee3","totalCount","GET_APPS","_context3","count","first","after","where","_x3","_this","_toGeneratorOrArray","_getAllAsArray","_update","_callee4","_context4","_x4","_archive","_callee5","_context5","_x5","_restore","_callee6","_context6","_x6","_destroy","_callee7","_context7","_x7","CREATE_COMPONENT","GET_COMPONENT","UPDATE_COMPONENT","ARCHIVE_COMPONENT","RESTORE_COMPONENT","DESTROY_COMPONENT","Component","appId","definition","_toConsumableArray2","_defineProperty2","_utils","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","target","i","length","source","forEach","getOwnPropertyDescriptors","defineProperties","CREATE_RECORD","GET_RECORD","UPDATE_RECORD","ARCHIVE_RECORD","RESTORE_RECORD","DESTROY_RECORD","Record","_getRecords","componentName","archivedAt","records","edges","_updateCacheAfterCreate2","newEdge","newData","_getRecordsQuery","readQuery","sent","_fillOutData","cursor","toCursor","createRecord","node","__typename","concat","writeQuery","t0","MissingFieldError","fieldValues","order","_updateCacheAfterCreate","getRecords","last","before","showArchived","searchString","fetchPolicy","bypassCache","undefined","_x8","_callee8","_context8","_x9","_buffer","_default","Utils","Error","Buffer","from","JSON","stringify","parse","_sessionUser","_templateObject13","_templateObject12","_templateObject11","_templateObject10","_templateObject9","_templateObject8","LOG_IN","LOG_IN_TO_APP","LOG_OUT","LOG_OUT_OF_APP","CREATE_USER","FIND_USER","UPDATE_USER","ARCHIVE_USER","RESTORE_USER","DESTROY_USER","ADD_ROLE","User","sessionUser","_resetStore","resetStore","_logIn","ensureLoaded","logIn","response","username","password","set","_logInToApp","logInToApp","_logOut","session","awaitSession","sessionToken","token","clear","_logOutOfApp","apps","GET_USER","includeApps","appsFirst","appsAfter","GET_USERS","_this2","_find","_callee9","_context9","email","_callee10","_context10","_callee11","_context11","_callee12","_context12","_isLoggedIn","_callee13","_context13","isLoggedIn","_loadSession","_callee14","_context14","_awaitSession","_callee15","_context15","roles","hasRole","_callee16","_context16","_x10","_addRole","_callee17","_context17","userId","roleId","_x11","_cookie","_lodash","_roles","_name","getProvider","inBrowser","roleNames","map","role","_set","_setRoleNames","get","_load","_ensureLoaded","load","_clear","remove","has","each","indexOf","OWNER","_jsCookie","_nodeCookie","Cookie","NodeCookie","_cookies","_remove","_cache","_nodeFetch","Client","_url","url","_createClient","httpLink","HttpLink","uri","fetch","authLink","setContext","_","_ref","headers","getToken","authorization","ApolloClient","link","cache","InMemoryCache","dataIdFromObject","componentId","defaultDataIdFromObject","changePassword","updatePasswordBaseForm","store","listeners","event","actions","path","login","recoverPassword","action","to","subject","body","storeName","resetPassword","viewAndEditAccount","baseForm","label","storeWhere","contactUs","componentToWrap","access","form","create","contactUsWrapper","schema","fields","publicContactUs","contactStore","isStore","contact","required","block","contacts","baseFormFactory","product","contactsDynamoDB","contactsDynamoDBConnector","contactsGeneratedBackend","contactsLocalStorage","contactsMySQL","contactsMySQLConnector","formBuilder","multiple","options","read","update","archive","userSignup","userStore","basename","menu","items","content","compiler","registerComponents","optionalComponents","uiComponents","FieldEditorForm","FieldEditorFormUI","FormEditor","FormEditorUI","loadAndCompileApp","loadStatically","a","values","register","registrar","client","clientApp","newComponent","globals","reCAPTCHASiteKey","setLayer","render","loadAndRenderApp","_awaitAsyncGenerator2","_wrapAsyncGenerator2","GroupClient","getClient","promiseFactory","queryName","clonedProps","loop","results","edge","clone","toFirst","_toGeneratorWrapper","delegateYield","_toGenerator","asArray","MAX_FIRST","_api","APIClient","_API"],"mappings":"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","file":"static/js/main.64963c30.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _app = _interopRequireDefault(require(\"./app\"));\n\nvar _component = _interopRequireDefault(require(\"./component\"));\n\nvar _record = _interopRequireDefault(require(\"./record\"));\n\nvar _user = _interopRequireDefault(require(\"./user\"));\n\nvar API = function API(props) {\n  (0, _classCallCheck2[\"default\"])(this, API);\n  this.app = new _app[\"default\"](props);\n  this.component = new _component[\"default\"](props);\n  this.record = new _record[\"default\"](props);\n  this.user = new _user[\"default\"](props);\n};\n\nexports[\"default\"] = API;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteral\"));\n\nvar _graphqlTag = _interopRequireDefault(require(\"graphql-tag\"));\n\nvar _groupClient = _interopRequireDefault(require(\"../group-client\"));\n\nfunction _templateObject7() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n      query Apps($first: Int, $after: String, $where: JSON) {\\n        apps(first: $first, after: $after, where: $where) {\\n          \", \"\\n          edges {\\n            node {\\n              id\\n              name\\n              createdAt\\n              updatedAt\\n              archivedAt\\n            }\\n            cursor\\n          }\\n          pageInfo {\\n            endCursor\\n            hasNextPage\\n          }\\n        }\\n      }\\n    \"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n      query App($id: String!, $usersFirst: Int, $usersAfter: String, $componentsFirst: Int, $componentsAfter: String, $componentsStatus: Status) {\\n        app(input: { id: $id, usersFirst: $usersFirst, usersAfter: $usersAfter, componentsFirst: $componentsFirst, componentsAfter: $componentsAfter, componentsStatus: $componentsStatus }) {\\n          id\\n          name\\n          createdAt\\n          updatedAt\\n          archivedAt\\n          \", \"\\n          \", \"\\n          \", \"\\n        }\\n      }\\n    \"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _templateObject5() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation DestroyApp($id: String!) {\\n    destroyApp(input: { id: $id }) {\\n      id\\n    }\\n  }\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation RestoreApp($id: String!) {\\n    restoreApp(input: { id: $id }) {\\n      id\\n    }\\n  }\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation ArchiveApp($id: String!) {\\n    archiveApp(input: { id: $id }) {\\n      id\\n    }\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation UpdateApp($id: String!, $name: String) {\\n    updateApp(input: { id: $id, name: $name }) {\\n      id\\n    }\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation CreateApp($name: String!) {\\n    createApp(input: { name: $name }) {\\n      id\\n      name\\n      createdAt\\n      updatedAt\\n      roles {\\n        id\\n        name\\n        createdAt\\n        updatedAt\\n      }\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar CREATE_APP = (0, _graphqlTag[\"default\"])(_templateObject());\nvar UPDATE_APP = (0, _graphqlTag[\"default\"])(_templateObject2());\nvar ARCHIVE_APP = (0, _graphqlTag[\"default\"])(_templateObject3());\nvar RESTORE_APP = (0, _graphqlTag[\"default\"])(_templateObject4());\nvar DESTROY_APP = (0, _graphqlTag[\"default\"])(_templateObject5());\n\nvar App = /*#__PURE__*/function (_GroupClient) {\n  (0, _inherits2[\"default\"])(App, _GroupClient);\n\n  var _super = _createSuper(App);\n\n  function App() {\n    (0, _classCallCheck2[\"default\"])(this, App);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2[\"default\"])(App, [{\n    key: \"create\",\n    value: function () {\n      var _create = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(props) {\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", this._client.mutate({\n                  mutation: CREATE_APP,\n                  variables: {\n                    name: props.name\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function create(_x) {\n        return _create.apply(this, arguments);\n      }\n\n      return create;\n    }()\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(props) {\n        var users, components, definitions, GET_APP;\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                users = '';\n\n                if (props && props.includeUsers) {\n                  users = \"\\n        users(first: $usersFirst, after: $usersAfter) {\\n          edges {\\n            node {\\n              id\\n              username\\n              roles\\n              createdAt\\n              updatedAt\\n            }\\n            cursor\\n          }\\n          pageInfo {\\n            endCursor\\n            hasNextPage\\n          }\\n        }\\n      \";\n                }\n\n                components = '';\n\n                if (props && props.includeComponents) {\n                  components = \"\\n        components(first: $componentsFirst, after: $componentsAfter, status: $componentsStatus) {\\n          edges {\\n            node {\\n              id\\n              definition\\n              createdAt\\n              updatedAt\\n            }\\n            cursor\\n          }\\n          pageInfo {\\n            endCursor\\n            hasNextPage\\n          }\\n        }\\n      \";\n                }\n\n                definitions = props && props.includeDefinitions ? 'definitions' : '';\n                GET_APP = (0, _graphqlTag[\"default\"])(_templateObject6(), users, components, definitions);\n                return _context2.abrupt(\"return\", this._client.query({\n                  query: GET_APP,\n                  variables: {\n                    id: props.id,\n                    usersFirst: props.usersFirst,\n                    usersAfter: props.usersAfter,\n                    componentsFirst: props.componentsFirst,\n                    componentsAfter: props.componentsAfter,\n                    componentsStatus: props.componentsStatus\n                  }\n                }));\n\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function get(_x2) {\n        return _get.apply(this, arguments);\n      }\n\n      return get;\n    }()\n  }, {\n    key: \"_getAllAsArray\",\n    value: function () {\n      var _getAllAsArray2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(props) {\n        var totalCount, GET_APPS;\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                totalCount = props && props.count ? 'totalCount' : '';\n                GET_APPS = (0, _graphqlTag[\"default\"])(_templateObject7(), totalCount);\n                return _context3.abrupt(\"return\", this._client.query({\n                  query: GET_APPS,\n                  variables: {\n                    first: props && props.first,\n                    after: props && props.after,\n                    where: props && props.where\n                  }\n                }));\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function _getAllAsArray(_x3) {\n        return _getAllAsArray2.apply(this, arguments);\n      }\n\n      return _getAllAsArray;\n    }()\n  }, {\n    key: \"getAll\",\n    value: function getAll(props) {\n      var _this = this;\n\n      return this._toGeneratorOrArray(function (props) {\n        return _this._getAllAsArray(props);\n      }, props, 'apps');\n    }\n  }, {\n    key: \"update\",\n    value: function () {\n      var _update = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(props) {\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                return _context4.abrupt(\"return\", this._client.mutate({\n                  mutation: UPDATE_APP,\n                  variables: {\n                    id: props.id,\n                    name: props.name\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function update(_x4) {\n        return _update.apply(this, arguments);\n      }\n\n      return update;\n    }()\n  }, {\n    key: \"archive\",\n    value: function () {\n      var _archive = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(props) {\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                return _context5.abrupt(\"return\", this._client.mutate({\n                  mutation: ARCHIVE_APP,\n                  variables: {\n                    id: props.id\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function archive(_x5) {\n        return _archive.apply(this, arguments);\n      }\n\n      return archive;\n    }()\n  }, {\n    key: \"restore\",\n    value: function () {\n      var _restore = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(props) {\n        return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                return _context6.abrupt(\"return\", this._client.mutate({\n                  mutation: RESTORE_APP,\n                  variables: {\n                    id: props.id\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function restore(_x6) {\n        return _restore.apply(this, arguments);\n      }\n\n      return restore;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function () {\n      var _destroy = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(props) {\n        return _regenerator[\"default\"].wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                return _context7.abrupt(\"return\", this._client.mutate({\n                  mutation: DESTROY_APP,\n                  variables: {\n                    id: props.id\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function destroy(_x7) {\n        return _destroy.apply(this, arguments);\n      }\n\n      return destroy;\n    }()\n  }]);\n  return App;\n}(_groupClient[\"default\"]);\n\nexports[\"default\"] = App;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteral\"));\n\nvar _graphqlTag = _interopRequireDefault(require(\"graphql-tag\"));\n\nvar _groupClient = _interopRequireDefault(require(\"../group-client\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _templateObject6() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation DestroyComponent($appId: String!, $id: String!) {\\n    destroyComponent(input: { appId: $appId, id: $id }) {\\n      appId\\n      id\\n    }\\n  }\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation RestoreComponent($appId: String!, $id: String!) {\\n    restoreComponent(input: { appId: $appId, id: $id }) {\\n      id\\n    }\\n  }\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation ArchiveComponent($appId: String!, $id: String!) {\\n    archiveComponent(input: { appId: $appId, id: $id }) {\\n      id\\n    }\\n  }\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation UpdateComponent($appId: String!, $id: String!, $definition: JSON!) {\\n    updateComponent(\\n      input: { appId: $appId, id: $id, definition: $definition }\\n    ) {\\n      appId\\n      id\\n      definition\\n    }\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  query Component($appId: String!, $id: String, $where: JSON) {\\n    component(appId: $appId, id: $id, where: $where) {\\n      appId\\n      id\\n      definition\\n      createdAt\\n      updatedAt\\n      archivedAt\\n    }\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation CreateComponent($appId: String!, $definition: JSON!) {\\n    createComponent(input: { appId: $appId, definition: $definition }) {\\n      appId\\n      id\\n      definition\\n      createdAt\\n      updatedAt\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar CREATE_COMPONENT = (0, _graphqlTag[\"default\"])(_templateObject());\nvar GET_COMPONENT = (0, _graphqlTag[\"default\"])(_templateObject2());\nvar UPDATE_COMPONENT = (0, _graphqlTag[\"default\"])(_templateObject3());\nvar ARCHIVE_COMPONENT = (0, _graphqlTag[\"default\"])(_templateObject4());\nvar RESTORE_COMPONENT = (0, _graphqlTag[\"default\"])(_templateObject5());\nvar DESTROY_COMPONENT = (0, _graphqlTag[\"default\"])(_templateObject6());\n\nvar Component = /*#__PURE__*/function (_GroupClient) {\n  (0, _inherits2[\"default\"])(Component, _GroupClient);\n\n  var _super = _createSuper(Component);\n\n  function Component() {\n    (0, _classCallCheck2[\"default\"])(this, Component);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2[\"default\"])(Component, [{\n    key: \"create\",\n    value: function () {\n      var _create = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(props) {\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", this._client.mutate({\n                  mutation: CREATE_COMPONENT,\n                  variables: {\n                    appId: props.appId,\n                    definition: props.definition\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function create(_x) {\n        return _create.apply(this, arguments);\n      }\n\n      return create;\n    }()\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(props) {\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", this._client.query({\n                  query: GET_COMPONENT,\n                  variables: {\n                    appId: props.appId,\n                    id: props.id,\n                    where: props.where\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function get(_x2) {\n        return _get.apply(this, arguments);\n      }\n\n      return get;\n    }()\n  }, {\n    key: \"update\",\n    value: function () {\n      var _update = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(props) {\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                return _context3.abrupt(\"return\", this._client.mutate({\n                  mutation: UPDATE_COMPONENT,\n                  variables: {\n                    appId: props.appId,\n                    id: props.id,\n                    definition: props.definition\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function update(_x3) {\n        return _update.apply(this, arguments);\n      }\n\n      return update;\n    }()\n  }, {\n    key: \"archive\",\n    value: function () {\n      var _archive = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(props) {\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                return _context4.abrupt(\"return\", this._client.mutate({\n                  mutation: ARCHIVE_COMPONENT,\n                  variables: {\n                    appId: props.appId,\n                    id: props.id\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function archive(_x4) {\n        return _archive.apply(this, arguments);\n      }\n\n      return archive;\n    }()\n  }, {\n    key: \"restore\",\n    value: function () {\n      var _restore = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(props) {\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                return _context5.abrupt(\"return\", this._client.mutate({\n                  mutation: RESTORE_COMPONENT,\n                  variables: {\n                    appId: props.appId,\n                    id: props.id\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function restore(_x5) {\n        return _restore.apply(this, arguments);\n      }\n\n      return restore;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function () {\n      var _destroy = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(props) {\n        return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                return _context6.abrupt(\"return\", this._client.mutate({\n                  mutation: DESTROY_COMPONENT,\n                  variables: {\n                    appId: props.appId,\n                    id: props.id\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function destroy(_x6) {\n        return _destroy.apply(this, arguments);\n      }\n\n      return destroy;\n    }()\n  }]);\n  return Component;\n}(_groupClient[\"default\"]);\n\nexports[\"default\"] = Component;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteral\"));\n\nvar _graphqlTag = _interopRequireDefault(require(\"graphql-tag\"));\n\nvar _groupClient = _interopRequireDefault(require(\"../group-client\"));\n\nvar _utils = _interopRequireDefault(require(\"../utils\"));\n\nvar _client = require(\"@apollo/client\");\n\nfunction _templateObject7() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n      query Records($appId: String!, $componentName: String!, $first: Int, $after: String, $last: Int, $before: String, $where: JSON, $order: JSON, $showArchived: Boolean, $searchString: String) {\\n        records(appId: $appId, componentName: $componentName, first: $first, after: $after, last: $last, before: $before, where: $where, order: $order, showArchived: $showArchived, searchString: $searchString) {\\n          \", \"\\n          edges {\\n            node {\\n              appId\\n              componentId\\n              id\\n              fieldValues\\n              createdAt\\n              updatedAt\\n              archivedAt\\n              userId\\n              order\\n            }\\n            cursor\\n          }\\n          pageInfo {\\n            beginCursor\\n            endCursor\\n            hasPreviousPage\\n            hasNextPage\\n          }\\n        }\\n      }\\n    \"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _templateObject6() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation DestroyRecord(\\n    $appId: String!\\n    $componentName: String!\\n    $id: String!\\n  ) {\\n    destroyRecord(\\n      input: { appId: $appId, componentName: $componentName, id: $id }\\n    ) {\\n      appId\\n      componentId\\n      id\\n    }\\n  }\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation RestoreRecord(\\n    $appId: String!\\n    $componentName: String!\\n    $id: String!\\n  ) {\\n    restoreRecord(\\n      input: { appId: $appId, componentName: $componentName, id: $id }\\n    ) {\\n      appId\\n      componentId\\n      id\\n      fieldValues\\n      createdAt\\n      updatedAt\\n      archivedAt\\n      userId\\n      order\\n    }\\n  }\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation ArchiveRecord(\\n    $appId: String!\\n    $componentName: String!\\n    $id: String!\\n  ) {\\n    archiveRecord(\\n      input: { appId: $appId, componentName: $componentName, id: $id }\\n    ) {\\n      appId\\n      componentId\\n      id\\n      fieldValues\\n      createdAt\\n      updatedAt\\n      archivedAt\\n      userId\\n      order\\n    }\\n  }\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation UpdateRecord(\\n    $appId: String!\\n    $componentName: String!\\n    $id: String!\\n    $fieldValues: JSON!\\n    $order: Float\\n  ) {\\n    updateRecord(\\n      input: {\\n        appId: $appId\\n        componentName: $componentName\\n        id: $id\\n        fieldValues: $fieldValues\\n        order: $order\\n      }\\n    ) {\\n      appId\\n      componentId\\n      id\\n      fieldValues\\n      createdAt\\n      updatedAt\\n      archivedAt\\n      userId\\n      order\\n    }\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  query Record(\\n    $appId: String!\\n    $componentName: String!\\n    $id: String\\n    $where: JSON\\n  ) {\\n    record(\\n      appId: $appId\\n      componentName: $componentName\\n      id: $id\\n      where: $where\\n    ) {\\n      appId\\n      componentId\\n      id\\n      fieldValues\\n      createdAt\\n      updatedAt\\n      archivedAt\\n      userId\\n      order\\n    }\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation CreateRecord(\\n    $appId: String!\\n    $componentName: String!\\n    $fieldValues: JSON!\\n    $order: Float\\n  ) {\\n    createRecord(\\n      input: {\\n        appId: $appId\\n        componentName: $componentName\\n        fieldValues: $fieldValues\\n        order: $order\\n      }\\n    ) {\\n      appId\\n      componentId\\n      id\\n      fieldValues\\n      createdAt\\n      updatedAt\\n      archivedAt\\n      userId\\n      order\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar CREATE_RECORD = (0, _graphqlTag[\"default\"])(_templateObject());\nvar GET_RECORD = (0, _graphqlTag[\"default\"])(_templateObject2());\nvar UPDATE_RECORD = (0, _graphqlTag[\"default\"])(_templateObject3());\nvar ARCHIVE_RECORD = (0, _graphqlTag[\"default\"])(_templateObject4());\nvar RESTORE_RECORD = (0, _graphqlTag[\"default\"])(_templateObject5());\nvar DESTROY_RECORD = (0, _graphqlTag[\"default\"])(_templateObject6());\n\nvar Record = /*#__PURE__*/function (_GroupClient) {\n  (0, _inherits2[\"default\"])(Record, _GroupClient);\n\n  var _super = _createSuper(Record);\n\n  function Record() {\n    (0, _classCallCheck2[\"default\"])(this, Record);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2[\"default\"])(Record, [{\n    key: \"_getRecordsQuery\",\n    value: function _getRecordsQuery(props) {\n      var getRecords = this._getRecords(props);\n\n      return {\n        query: getRecords,\n        variables: {\n          appId: props.appId,\n          componentName: props.componentName,\n          // We assume that our cache contains only the records that have not been archived as this is\n          // what will apply for most cases. TODO: we will probably need to make this where clause\n          // configurable. Or, is there an automatic way? The Apollo client appears to automatically\n          // handle this when we update a record--can that logic be duplicated when a record is\n          // created?\n          where: {\n            archivedAt: null\n          }\n        }\n      };\n    }\n  }, {\n    key: \"_fillOutData\",\n    value: function _fillOutData(data) {\n      // The latest apollo client doesn't fill out the data structure so we have to\n      if (data === null) {\n        data = {\n          records: {\n            edges: []\n          }\n        };\n      } else if (!data.records) {\n        data.records = {\n          edges: []\n        };\n      } else if (!data.records.edges) {\n        data.records.edges = [];\n      }\n\n      return data;\n    } // Unfortunately, the apollo client doesn't automatically update the cache after a record is\n    // created. Therefore, we need to update it manually.\n    //\n    // TODO: how to prevent user password from being stored in the cache when using\n    // this.api.record.create() with a User component?!\n\n  }, {\n    key: \"_updateCacheAfterCreate\",\n    value: function () {\n      var _updateCacheAfterCreate2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(props, record) {\n        var query, data, newEdge, newData;\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                query = this._getRecordsQuery(props);\n                _context.prev = 1;\n                _context.next = 4;\n                return this._client.readQuery(query);\n\n              case 4:\n                data = _context.sent;\n                data = this._fillOutData(data); // Add new record\n\n                newEdge = {\n                  cursor: _utils[\"default\"].toCursor([['id', record.data.createRecord.id]]),\n                  node: record.data.createRecord,\n                  __typename: 'RecordEdge'\n                }; // We cannot mutate the original data so we create a copy with spread\n\n                newData = _objectSpread(_objectSpread({}, data), {}, {\n                  records: _objectSpread(_objectSpread({}, data.records), {}, {\n                    edges: [].concat((0, _toConsumableArray2[\"default\"])(data.records.edges), [newEdge])\n                  })\n                }); // Update the cache\n\n                _context.next = 10;\n                return this._client.writeQuery(_objectSpread(_objectSpread({}, query), {}, {\n                  data: newData\n                }));\n\n              case 10:\n                _context.next = 12;\n                return this._client.writeQuery({\n                  query: GET_RECORD,\n                  variables: {\n                    appId: props.appId,\n                    componentName: props.componentName,\n                    id: record.data.createRecord.id\n                  },\n                  data: {\n                    record: record.data.createRecord\n                  }\n                });\n\n              case 12:\n                _context.next = 20;\n                break;\n\n              case 14:\n                _context.prev = 14;\n                _context.t0 = _context[\"catch\"](1);\n\n                if (!(_context.t0 instanceof _client.MissingFieldError)) {\n                  _context.next = 19;\n                  break;\n                }\n\n                _context.next = 20;\n                break;\n\n              case 19:\n                throw _context.t0;\n\n              case 20:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[1, 14]]);\n      }));\n\n      function _updateCacheAfterCreate(_x, _x2) {\n        return _updateCacheAfterCreate2.apply(this, arguments);\n      }\n\n      return _updateCacheAfterCreate;\n    }()\n  }, {\n    key: \"create\",\n    value: function () {\n      var _create = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(props) {\n        var record;\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this._client.mutate({\n                  mutation: CREATE_RECORD,\n                  variables: {\n                    appId: props.appId,\n                    componentName: props.componentName,\n                    fieldValues: props.fieldValues,\n                    order: props.order\n                  }\n                });\n\n              case 2:\n                record = _context2.sent;\n                _context2.next = 5;\n                return this._updateCacheAfterCreate(props, record);\n\n              case 5:\n                return _context2.abrupt(\"return\", record);\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function create(_x3) {\n        return _create.apply(this, arguments);\n      }\n\n      return create;\n    }()\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(props) {\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                return _context3.abrupt(\"return\", this._client.query({\n                  query: GET_RECORD,\n                  variables: {\n                    appId: props.appId,\n                    componentName: props.componentName,\n                    id: props.id,\n                    where: props.where\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function get(_x4) {\n        return _get.apply(this, arguments);\n      }\n\n      return get;\n    }()\n  }, {\n    key: \"_getRecords\",\n    value: function _getRecords(props) {\n      var totalCount = props && props.count ? 'totalCount' : '';\n      var GET_RECORDS = (0, _graphqlTag[\"default\"])(_templateObject7(), totalCount);\n      return GET_RECORDS;\n    }\n  }, {\n    key: \"_getAllAsArray\",\n    value: function () {\n      var _getAllAsArray2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4(props) {\n        var getRecords;\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                getRecords = this._getRecords(props);\n                return _context4.abrupt(\"return\", this._client.query({\n                  query: getRecords,\n                  variables: {\n                    appId: props.appId,\n                    componentName: props.componentName,\n                    first: props && props.first,\n                    after: props && props.after,\n                    last: props && props.last,\n                    before: props && props.before,\n                    where: props && props.where,\n                    order: props && props.order,\n                    showArchived: props && props.showArchived,\n                    searchString: props && props.searchString\n                  },\n                  fetchPolicy: props.bypassCache ? 'network-only' : undefined\n                }));\n\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function _getAllAsArray(_x5) {\n        return _getAllAsArray2.apply(this, arguments);\n      }\n\n      return _getAllAsArray;\n    }()\n  }, {\n    key: \"getAll\",\n    value: function getAll(props) {\n      var _this = this;\n\n      return this._toGeneratorOrArray(function (props) {\n        return _this._getAllAsArray(props);\n      }, props, 'records');\n    }\n  }, {\n    key: \"update\",\n    value: function () {\n      var _update = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5(props) {\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                return _context5.abrupt(\"return\", this._client.mutate({\n                  mutation: UPDATE_RECORD,\n                  variables: {\n                    appId: props.appId,\n                    componentName: props.componentName,\n                    id: props.id,\n                    fieldValues: props.fieldValues,\n                    order: props.order\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function update(_x6) {\n        return _update.apply(this, arguments);\n      }\n\n      return update;\n    }()\n  }, {\n    key: \"archive\",\n    value: function () {\n      var _archive = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(props) {\n        return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                return _context6.abrupt(\"return\", this._client.mutate({\n                  mutation: ARCHIVE_RECORD,\n                  variables: {\n                    appId: props.appId,\n                    componentName: props.componentName,\n                    id: props.id\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function archive(_x7) {\n        return _archive.apply(this, arguments);\n      }\n\n      return archive;\n    }()\n  }, {\n    key: \"restore\",\n    value: function () {\n      var _restore = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(props) {\n        return _regenerator[\"default\"].wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                return _context7.abrupt(\"return\", this._client.mutate({\n                  mutation: RESTORE_RECORD,\n                  variables: {\n                    appId: props.appId,\n                    componentName: props.componentName,\n                    id: props.id\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function restore(_x8) {\n        return _restore.apply(this, arguments);\n      }\n\n      return restore;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function () {\n      var _destroy = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee8(props) {\n        return _regenerator[\"default\"].wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                return _context8.abrupt(\"return\", this._client.mutate({\n                  mutation: DESTROY_RECORD,\n                  variables: {\n                    appId: props.appId,\n                    componentName: props.componentName,\n                    id: props.id\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function destroy(_x9) {\n        return _destroy.apply(this, arguments);\n      }\n\n      return destroy;\n    }()\n  }]);\n  return Record;\n}(_groupClient[\"default\"]);\n\nexports[\"default\"] = Record;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _buffer = require(\"buffer\");\n\nvar Utils = /*#__PURE__*/function () {\n  function Utils() {\n    (0, _classCallCheck2[\"default\"])(this, Utils);\n  }\n\n  (0, _createClass2[\"default\"])(Utils, [{\n    key: \"toCursor\",\n    // Our cursors are base64 encoded (serializable opaque) props because this is common practice. For\n    // more info see\n    // https://stackoverflow.com/questions/28389893/why-is-it-a-common-practice-to-encode-pagination-cursors-or-id-values-as-string\n    // and\n    // https://medium.com/react-native-training/building-chatty-part-5-pagination-with-graphql-23a25fc9f0bf\n    value: function toCursor(props) {\n      if (props.length === 0) {\n        throw new Error('props cannot be empty');\n      }\n\n      return _buffer.Buffer.from(JSON.stringify(props).toString()).toString('base64');\n    }\n  }, {\n    key: \"fromCursor\",\n    value: function fromCursor(cursor) {\n      return JSON.parse(_buffer.Buffer.from(cursor, 'base64').toString());\n    }\n  }]);\n  return Utils;\n}();\n\nvar _default = new Utils();\n\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteral\"));\n\nvar _graphqlTag = _interopRequireDefault(require(\"graphql-tag\"));\n\nvar _sessionUser = _interopRequireDefault(require(\"./session-user\"));\n\nvar _groupClient = _interopRequireDefault(require(\"../group-client\"));\n\nfunction _templateObject13() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n      query Users($first: Int, $after: String, $where: JSON, $order: JSON) {\\n        users(first: $first, after: $after, where: $where, order: $order) {\\n          \", \"\\n          edges {\\n            node {\\n              id\\n              username\\n              roles\\n              createdAt\\n              updatedAt\\n              archivedAt\\n            }\\n            cursor\\n          }\\n          pageInfo {\\n            endCursor\\n            hasNextPage\\n          }\\n        }\\n      }\\n    \"]);\n\n  _templateObject13 = function _templateObject13() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject12() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n      query User($id: String!, $appsFirst: Int, $appsAfter: String) {\\n        user(id: $id, appsFirst: $appsFirst, appsAfter: $appsAfter) {\\n          id\\n          username\\n          roles\\n          createdAt\\n          updatedAt\\n          archivedAt\\n          \", \"\\n        }\\n      }\\n    \"]);\n\n  _templateObject12 = function _templateObject12() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _templateObject11() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation AddRole($userId: String!, $roleId: String!) {\\n    addRole(input: { userId: $userId, roleId: $roleId }) {\\n      userId\\n      roleId\\n    }\\n  }\\n\"]);\n\n  _templateObject11 = function _templateObject11() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject10() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation DestroyUser($id: String!) {\\n    destroyUser(input: { id: $id }) {\\n      id\\n    }\\n  }\\n\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation RestoreUser($id: String!) {\\n    restoreUser(input: { id: $id }) {\\n      id\\n    }\\n  }\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation ArchiveUser($id: String!) {\\n    archiveUser(input: { id: $id }) {\\n      id\\n    }\\n  }\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation UpdateUser($id: String!, $username: String, $password: String) {\\n    updateUser(input: { id: $id, username: $username, password: $password }) {\\n      id\\n      username\\n      roles\\n      createdAt\\n      updatedAt\\n      archivedAt\\n    }\\n  }\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  query FindUser($email: String!) {\\n    findUser(email: $email) {\\n      id\\n      username\\n      roles\\n      createdAt\\n      updatedAt\\n    }\\n  }\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation CreateUser($username: String!, $password: String!) {\\n    createUser(input: { username: $username, password: $password }) {\\n      id\\n      username\\n      roles\\n      createdAt\\n      updatedAt\\n    }\\n  }\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation LogOutOfApp($appId: String!, $sessionToken: String!) {\\n    logOutOfApp(input: { appId: $appId, sessionToken: $sessionToken }) {\\n      appId\\n      sessionToken\\n    }\\n  }\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation LogOut($sessionToken: String!) {\\n    logOut(input: { sessionToken: $sessionToken }) {\\n      sessionToken\\n    }\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation LogInToApp($appId: String!, $username: String!, $password: String!) {\\n    logInToApp(\\n      input: { appId: $appId, username: $username, password: $password }\\n    ) {\\n      appId\\n      token\\n      user {\\n        id\\n        username\\n        roles\\n        createdAt\\n        updatedAt\\n      }\\n      createdAt\\n      updatedAt\\n    }\\n  }\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  mutation LogIn($username: String!, $password: String!) {\\n    logIn(input: { username: $username, password: $password }) {\\n      token\\n      user {\\n        id\\n        username\\n        roles\\n        createdAt\\n        updatedAt\\n      }\\n      createdAt\\n      updatedAt\\n    }\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nvar LOG_IN = (0, _graphqlTag[\"default\"])(_templateObject());\nvar LOG_IN_TO_APP = (0, _graphqlTag[\"default\"])(_templateObject2());\nvar LOG_OUT = (0, _graphqlTag[\"default\"])(_templateObject3());\nvar LOG_OUT_OF_APP = (0, _graphqlTag[\"default\"])(_templateObject4());\nvar CREATE_USER = (0, _graphqlTag[\"default\"])(_templateObject5());\nvar FIND_USER = (0, _graphqlTag[\"default\"])(_templateObject6());\nvar UPDATE_USER = (0, _graphqlTag[\"default\"])(_templateObject7());\nvar ARCHIVE_USER = (0, _graphqlTag[\"default\"])(_templateObject8());\nvar RESTORE_USER = (0, _graphqlTag[\"default\"])(_templateObject9());\nvar DESTROY_USER = (0, _graphqlTag[\"default\"])(_templateObject10());\nvar ADD_ROLE = (0, _graphqlTag[\"default\"])(_templateObject11());\n\nvar User = /*#__PURE__*/function (_GroupClient) {\n  (0, _inherits2[\"default\"])(User, _GroupClient);\n\n  var _super = _createSuper(User);\n\n  function User(props) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, User);\n    _this = _super.call(this, props);\n    _this.sessionUser = props && props.sessionUser ? props.sessionUser : _sessionUser[\"default\"];\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(User, [{\n    key: \"resetStore\",\n    value: function () {\n      var _resetStore = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this._client.resetStore();\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function resetStore() {\n        return _resetStore.apply(this, arguments);\n      }\n\n      return resetStore;\n    }()\n  }, {\n    key: \"logIn\",\n    value: function () {\n      var _logIn = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(props) {\n        var ensureLoaded, logIn, response;\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                // Process promises concurrently\n                ensureLoaded = this.sessionUser.ensureLoaded();\n                logIn = this._client.mutate({\n                  mutation: LOG_IN,\n                  variables: {\n                    username: props.username,\n                    password: props.password\n                  }\n                });\n                _context2.next = 4;\n                return ensureLoaded;\n\n              case 4:\n                _context2.next = 6;\n                return logIn;\n\n              case 6:\n                response = _context2.sent;\n                _context2.next = 9;\n                return this.resetStore();\n\n              case 9:\n                _context2.next = 11;\n                return this.sessionUser.set(response.data.logIn);\n\n              case 11:\n                return _context2.abrupt(\"return\", response);\n\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function logIn(_x) {\n        return _logIn.apply(this, arguments);\n      }\n\n      return logIn;\n    }()\n  }, {\n    key: \"logInToApp\",\n    value: function () {\n      var _logInToApp = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(props) {\n        var ensureLoaded, logInToApp, response;\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                // Process promises concurrently\n                ensureLoaded = this.sessionUser.ensureLoaded();\n                logInToApp = this._client.mutate({\n                  mutation: LOG_IN_TO_APP,\n                  variables: {\n                    appId: props.appId,\n                    username: props.username,\n                    password: props.password\n                  }\n                });\n                _context3.next = 4;\n                return ensureLoaded;\n\n              case 4:\n                _context3.next = 6;\n                return logInToApp;\n\n              case 6:\n                response = _context3.sent;\n                _context3.next = 9;\n                return this.resetStore();\n\n              case 9:\n                _context3.next = 11;\n                return this.sessionUser.set(response.data.logInToApp);\n\n              case 11:\n                return _context3.abrupt(\"return\", response);\n\n              case 12:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function logInToApp(_x2) {\n        return _logInToApp.apply(this, arguments);\n      }\n\n      return logInToApp;\n    }()\n  }, {\n    key: \"logOut\",\n    value: function () {\n      var _logOut = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4() {\n        var session, response;\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.awaitSession();\n\n              case 2:\n                session = _context4.sent;\n                _context4.next = 5;\n                return this._client.mutate({\n                  mutation: LOG_OUT,\n                  variables: {\n                    sessionToken: session.token\n                  }\n                });\n\n              case 5:\n                response = _context4.sent;\n                _context4.next = 8;\n                return this.sessionUser.clear();\n\n              case 8:\n                _context4.next = 10;\n                return this.resetStore();\n\n              case 10:\n                return _context4.abrupt(\"return\", response);\n\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function logOut() {\n        return _logOut.apply(this, arguments);\n      }\n\n      return logOut;\n    }()\n  }, {\n    key: \"logOutOfApp\",\n    value: function () {\n      var _logOutOfApp = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5() {\n        var session, response;\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this.awaitSession();\n\n              case 2:\n                session = _context5.sent;\n                _context5.next = 5;\n                return this._client.mutate({\n                  mutation: LOG_OUT_OF_APP,\n                  variables: {\n                    appId: session.appId,\n                    sessionToken: session.token\n                  }\n                });\n\n              case 5:\n                response = _context5.sent;\n                _context5.next = 8;\n                return this.sessionUser.clear();\n\n              case 8:\n                _context5.next = 10;\n                return this.resetStore();\n\n              case 10:\n                return _context5.abrupt(\"return\", response);\n\n              case 11:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function logOutOfApp() {\n        return _logOutOfApp.apply(this, arguments);\n      }\n\n      return logOutOfApp;\n    }()\n  }, {\n    key: \"create\",\n    value: function () {\n      var _create = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee6(props) {\n        return _regenerator[\"default\"].wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                return _context6.abrupt(\"return\", this._client.mutate({\n                  mutation: CREATE_USER,\n                  variables: {\n                    username: props.username,\n                    password: props.password\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function create(_x3) {\n        return _create.apply(this, arguments);\n      }\n\n      return create;\n    }()\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee7(props) {\n        var apps, GET_USER;\n        return _regenerator[\"default\"].wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                apps = '';\n\n                if (props && props.includeApps) {\n                  apps = \"\\n        apps(first: $appsFirst, after: $appsAfter) {\\n          edges {\\n            node {\\n              id\\n              name\\n              createdAt\\n              updatedAt\\n              archivedAt\\n            }\\n            cursor\\n          }\\n          pageInfo {\\n            endCursor\\n            hasNextPage\\n          }\\n        }\\n      \";\n                }\n\n                GET_USER = (0, _graphqlTag[\"default\"])(_templateObject12(), apps);\n                return _context7.abrupt(\"return\", this._client.query({\n                  query: GET_USER,\n                  variables: {\n                    id: props.id,\n                    appsFirst: props.appsFirst,\n                    appsAfter: props.appsAfter\n                  }\n                }));\n\n              case 4:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function get(_x4) {\n        return _get.apply(this, arguments);\n      }\n\n      return get;\n    }()\n  }, {\n    key: \"_getAllAsArray\",\n    value: function () {\n      var _getAllAsArray2 = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee8(props) {\n        var totalCount, GET_USERS;\n        return _regenerator[\"default\"].wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                totalCount = props && props.count ? 'totalCount' : '';\n                GET_USERS = (0, _graphqlTag[\"default\"])(_templateObject13(), totalCount);\n                return _context8.abrupt(\"return\", this._client.query({\n                  query: GET_USERS,\n                  variables: {\n                    first: props && props.first,\n                    after: props && props.after,\n                    where: props && props.where,\n                    order: props && props.order\n                  }\n                }));\n\n              case 3:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function _getAllAsArray(_x5) {\n        return _getAllAsArray2.apply(this, arguments);\n      }\n\n      return _getAllAsArray;\n    }()\n  }, {\n    key: \"getAll\",\n    value: function getAll(props) {\n      var _this2 = this;\n\n      return this._toGeneratorOrArray(function (props) {\n        return _this2._getAllAsArray(props);\n      }, props, 'apps');\n    }\n  }, {\n    key: \"find\",\n    value: function () {\n      var _find = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee9(props) {\n        return _regenerator[\"default\"].wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                return _context9.abrupt(\"return\", this._client.query({\n                  query: FIND_USER,\n                  variables: {\n                    email: props.email\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function find(_x6) {\n        return _find.apply(this, arguments);\n      }\n\n      return find;\n    }()\n  }, {\n    key: \"update\",\n    value: function () {\n      var _update = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee10(props) {\n        return _regenerator[\"default\"].wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                return _context10.abrupt(\"return\", this._client.mutate({\n                  mutation: UPDATE_USER,\n                  variables: {\n                    id: props.id,\n                    username: props.username,\n                    password: props.password\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function update(_x7) {\n        return _update.apply(this, arguments);\n      }\n\n      return update;\n    }()\n  }, {\n    key: \"archive\",\n    value: function () {\n      var _archive = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee11(props) {\n        return _regenerator[\"default\"].wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                return _context11.abrupt(\"return\", this._client.mutate({\n                  mutation: ARCHIVE_USER,\n                  variables: {\n                    id: props.id\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n\n      function archive(_x8) {\n        return _archive.apply(this, arguments);\n      }\n\n      return archive;\n    }()\n  }, {\n    key: \"restore\",\n    value: function () {\n      var _restore = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee12(props) {\n        return _regenerator[\"default\"].wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                return _context12.abrupt(\"return\", this._client.mutate({\n                  mutation: RESTORE_USER,\n                  variables: {\n                    id: props.id\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      function restore(_x9) {\n        return _restore.apply(this, arguments);\n      }\n\n      return restore;\n    }()\n  }, {\n    key: \"isLoggedIn\",\n    value: function () {\n      var _isLoggedIn = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee13() {\n        return _regenerator[\"default\"].wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                _context13.next = 2;\n                return this.sessionUser.ensureLoaded();\n\n              case 2:\n                return _context13.abrupt(\"return\", this.sessionUser.isLoggedIn());\n\n              case 3:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      function isLoggedIn() {\n        return _isLoggedIn.apply(this, arguments);\n      }\n\n      return isLoggedIn;\n    }()\n  }, {\n    key: \"loadSession\",\n    value: function () {\n      var _loadSession = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee14() {\n        return _regenerator[\"default\"].wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                _context14.next = 2;\n                return this.sessionUser.ensureLoaded();\n\n              case 2:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14, this);\n      }));\n\n      function loadSession() {\n        return _loadSession.apply(this, arguments);\n      }\n\n      return loadSession;\n    }()\n  }, {\n    key: \"awaitSession\",\n    value: function () {\n      var _awaitSession = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee15() {\n        return _regenerator[\"default\"].wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                _context15.next = 2;\n                return this.sessionUser.ensureLoaded();\n\n              case 2:\n                return _context15.abrupt(\"return\", this.sessionUser.session);\n\n              case 3:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15, this);\n      }));\n\n      function awaitSession() {\n        return _awaitSession.apply(this, arguments);\n      }\n\n      return awaitSession;\n    }()\n  }, {\n    key: \"getSession\",\n    value: function getSession() {\n      return this.sessionUser.session;\n    }\n  }, {\n    key: \"hasRole\",\n    value: function hasRole(roles) {\n      // Note: we cannot call ensureLoaded as this would require this function to be async and we\n      // cannot use async functions in a React render function.\n      //\n      // await this.sessionUser.ensureLoaded();\n      return this.sessionUser.hasRole(roles);\n    }\n  }, {\n    key: \"destroy\",\n    value: function () {\n      var _destroy = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee16(props) {\n        return _regenerator[\"default\"].wrap(function _callee16$(_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                return _context16.abrupt(\"return\", this._client.mutate({\n                  mutation: DESTROY_USER,\n                  variables: {\n                    id: props.id\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee16, this);\n      }));\n\n      function destroy(_x10) {\n        return _destroy.apply(this, arguments);\n      }\n\n      return destroy;\n    }()\n  }, {\n    key: \"addRole\",\n    value: function () {\n      var _addRole = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee17(props) {\n        return _regenerator[\"default\"].wrap(function _callee17$(_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                return _context17.abrupt(\"return\", this._client.mutate({\n                  mutation: ADD_ROLE,\n                  variables: {\n                    userId: props.userId,\n                    roleId: props.roleId\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee17, this);\n      }));\n\n      function addRole(_x11) {\n        return _addRole.apply(this, arguments);\n      }\n\n      return addRole;\n    }()\n  }]);\n  return User;\n}(_groupClient[\"default\"]);\n\nexports[\"default\"] = User;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _cookie = _interopRequireDefault(require(\"./cookie\"));\n\nvar _utils = _interopRequireDefault(require(\"mson/lib/utils\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _roles = _interopRequireDefault(require(\"mson/lib/roles\"));\n\nvar User = /*#__PURE__*/function () {\n  function User(name) {\n    (0, _classCallCheck2[\"default\"])(this, User);\n    this._name = name;\n    this._cookie = _cookie[\"default\"].getProvider(_utils[\"default\"].inBrowser());\n    this.session = null;\n  }\n\n  (0, _createClass2[\"default\"])(User, [{\n    key: \"_setRoleNames\",\n    value: function _setRoleNames(session) {\n      // Also format roles as roleNames so that we can use sift to query roles\n      session.user.roleNames = _lodash[\"default\"].map(session.user.roles, function (role) {\n        return role.name;\n      });\n    }\n  }, {\n    key: \"set\",\n    value: function () {\n      var _set = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(session) {\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this._setRoleNames(session); // Store in mem for quick access\n\n\n                this.session = session; // Store in persistent storage so that we can reload the value later. Note: js-cookie takes care\n                // of stringify objects.\n\n                this._cookie.set(this._name, session);\n\n              case 3:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function set(_x) {\n        return _set.apply(this, arguments);\n      }\n\n      return set;\n    }()\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2() {\n        var session;\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this._cookie.get(this._name);\n\n              case 2:\n                session = _context2.sent;\n                return _context2.abrupt(\"return\", session ? JSON.parse(session) : null);\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function get() {\n        return _get.apply(this, arguments);\n      }\n\n      return get;\n    }()\n  }, {\n    key: \"load\",\n    value: function () {\n      var _load = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3() {\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.get();\n\n              case 2:\n                this.session = _context3.sent;\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function load() {\n        return _load.apply(this, arguments);\n      }\n\n      return load;\n    }()\n  }, {\n    key: \"ensureLoaded\",\n    value: function () {\n      var _ensureLoaded = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee4() {\n        return _regenerator[\"default\"].wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!(this.session === null)) {\n                  _context4.next = 3;\n                  break;\n                }\n\n                _context4.next = 3;\n                return this.load();\n\n              case 3:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function ensureLoaded() {\n        return _ensureLoaded.apply(this, arguments);\n      }\n\n      return ensureLoaded;\n    }()\n  }, {\n    key: \"clear\",\n    value: function () {\n      var _clear = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee5() {\n        return _regenerator[\"default\"].wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this._cookie.remove(this._name);\n\n              case 2:\n                this.session = null;\n\n              case 3:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function clear() {\n        return _clear.apply(this, arguments);\n      }\n\n      return clear;\n    }()\n  }, {\n    key: \"isLoggedIn\",\n    value: function isLoggedIn() {\n      return this.session ? true : false;\n    }\n  }, {\n    key: \"getToken\",\n    value: function getToken() {\n      return this.session ? this.session.token : '';\n    }\n  }, {\n    key: \"hasRole\",\n    value: function hasRole(roles) {\n      if (!this.isLoggedIn()) {\n        return false;\n      } else {\n        var has = false;\n\n        _lodash[\"default\"].each(this.session.user.roles, function (role) {\n          if (roles.indexOf(role.name) !== -1) {\n            has = true;\n            return false; // exit loop\n          }\n        }); // If the owner permission is being used, we assume that the user has access in the UI. All\n        // forbidden writes will then be stopped by the next layer of access control.\n\n\n        if (roles.indexOf(_roles[\"default\"].OWNER) !== -1) {\n          has = true;\n        }\n\n        return has;\n      }\n    }\n  }]);\n  return User;\n}();\n\nexports[\"default\"] = User;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _jsCookie = _interopRequireDefault(require(\"js-cookie\"));\n\nvar _nodeCookie = _interopRequireDefault(require(\"./node-cookie\"));\n\n// js-cookie doesn't actually store anything in node so we create an abstraction so that cookies\n// will work in node. This is needed so that if we use the client in node, it can reconnect to the\n// server with the cookie and not a username and password\nvar Cookie = /*#__PURE__*/function () {\n  function Cookie() {\n    (0, _classCallCheck2[\"default\"])(this, Cookie);\n  }\n\n  (0, _createClass2[\"default\"])(Cookie, [{\n    key: \"getProvider\",\n    value: function getProvider(inBrowser) {\n      return inBrowser ? _jsCookie[\"default\"] : _nodeCookie[\"default\"];\n    }\n  }]);\n  return Cookie;\n}();\n\nvar _default = new Cookie();\n\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar NodeCookie = /*#__PURE__*/function () {\n  function NodeCookie() {\n    (0, _classCallCheck2[\"default\"])(this, NodeCookie);\n    this._cookies = {};\n  } // We use the async keyword to allow for swapping out the session store with an async store\n\n\n  (0, _createClass2[\"default\"])(NodeCookie, [{\n    key: \"set\",\n    value: function () {\n      var _set = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee(name, id) {\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this._cookies[name] = id;\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function set(_x, _x2) {\n        return _set.apply(this, arguments);\n      }\n\n      return set;\n    }() // We use the async keyword to allow for swapping out the session store with an async store\n\n  }, {\n    key: \"get\",\n    value: function () {\n      var _get = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee2(name) {\n        return _regenerator[\"default\"].wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", this._cookies[name]);\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function get(_x3) {\n        return _get.apply(this, arguments);\n      }\n\n      return get;\n    }() // We use the async keyword to allow for swapping out the session store with an async store\n\n  }, {\n    key: \"remove\",\n    value: function () {\n      var _remove = (0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee3(name) {\n        return _regenerator[\"default\"].wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                delete this._cookies[name];\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function remove(_x4) {\n        return _remove.apply(this, arguments);\n      }\n\n      return remove;\n    }()\n  }]);\n  return NodeCookie;\n}();\n\nvar _default = new NodeCookie();\n\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _client = require(\"@apollo/client\");\n\nvar _context = require(\"@apollo/client/link/context\");\n\nvar _cache = require(\"@apollo/client/cache\");\n\nvar _nodeFetch = _interopRequireDefault(require(\"node-fetch\"));\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar Client = /*#__PURE__*/function () {\n  function Client(props) {\n    (0, _classCallCheck2[\"default\"])(this, Client);\n    this._url = props.url;\n    this._user = props.user;\n\n    this._createClient();\n  }\n\n  (0, _createClass2[\"default\"])(Client, [{\n    key: \"_createClient\",\n    value: function _createClient() {\n      var _this = this;\n\n      var httpLink = new _client.HttpLink({\n        uri: this._url,\n        fetch: _nodeFetch[\"default\"]\n      });\n      var authLink = (0, _context.setContext)(function (_, _ref) {\n        var headers = _ref.headers;\n\n        // Get the authentication token from local storage if it exists\n        var token = _this._user.getToken(); // Return the headers to the context so httpLink can read them\n\n\n        return {\n          headers: _objectSpread(_objectSpread({}, headers), {}, {\n            authorization: token ? \"Bearer \".concat(token) : ''\n          })\n        };\n      });\n      this._client = new _client.ApolloClient({\n        link: authLink.concat(httpLink),\n        cache: new _cache.InMemoryCache({\n          dataIdFromObject: function dataIdFromObject(object) {\n            switch (object.__typename) {\n              case 'Record':\n                // We have to create a separate namespace for each app-component pair or else the\n                // client cache will provide the wrong data when there are shared ids across different\n                // components.\n                return object.appId + ':' + object.componentId + ':' + object.id;\n\n              default:\n                return (0, _cache.defaultDataIdFromObject)(object);\n              // fall back to default handling\n            }\n          }\n        })\n      });\n    }\n  }, {\n    key: \"getClient\",\n    value: function getClient() {\n      return this._client;\n    }\n  }]);\n  return Client;\n}();\n\nexports[\"default\"] = Client;","export const changePassword = {\n  name: 'app.ChangePassword',\n  component: 'UpdatePasswordEditor',\n  updatePasswordBaseForm: {\n    component: 'app.User',\n  },\n  store: {\n    component: 'app.UserStore',\n  },\n  listeners: [\n    {\n      event: ['didSave', 'cancel'],\n      actions: [\n        {\n          component: 'Redirect',\n          path: '/account',\n        },\n      ],\n    },\n  ],\n};\n","export const login = {\n  name: 'app.Login',\n  component: 'Login',\n  listeners: [\n    {\n      event: 'signUp',\n      actions: [\n        {\n          component: 'Redirect',\n          path: '/signup',\n        },\n      ],\n    },\n    {\n      event: 'forgotPassword',\n      actions: [\n        {\n          component: 'Redirect',\n          path: '/recover-password',\n        },\n      ],\n    },\n    {\n      event: 'contact',\n      actions: [\n        {\n          component: 'Redirect',\n          path: '/contact-us',\n        },\n      ],\n    },\n  ],\n};\n","export const recoverPassword = {\n  name: 'app.RecoverPassword',\n  component: 'RecoverPasswordEditor',\n  action: {\n    component: 'Email',\n    to: '{{fields.email.value}}',\n    subject: 'Reset Password',\n    body: '[Reset your password](https://example.com/reset-password/{{arguments.values.token}})',\n  },\n  store: {\n    component: 'RecordStore',\n    storeName: 'app.RecoverPassword',\n  },\n};\n","export const resetPassword = {\n  name: 'app.ResetPassword',\n  component: 'ResetPasswordEditor',\n  store: {\n    component: 'RecordStore',\n    storeName: 'app.ResetPassword',\n  },\n};\n","export const viewAndEditAccount = {\n  name: 'app.ViewAndEditAccount',\n  component: 'RecordEditor',\n  baseForm: {\n    component: 'app.User',\n  },\n  label: 'Account',\n  store: {\n    component: 'app.UserStore',\n  },\n  storeWhere: {\n    userId: '{{globals.session.user.id}}',\n  },\n};\n","export const contactUs = {\n  name: 'app.ContactUs',\n  component: 'app.ContactUsWrapper',\n  componentToWrap: {\n    component: 'AuthenticatedContactUs',\n    store: {\n      component: 'RecordStore',\n      storeName: 'app.ContactUs',\n    },\n  },\n  access: {\n    form: {\n      create: ['standard'],\n    },\n  },\n};\n","export const contactUsWrapper = {\n  name: 'app.ContactUsWrapper',\n  component: 'Form',\n  schema: {\n    component: 'Form',\n    fields: [\n      {\n        name: 'to',\n        component: 'TextField',\n      },\n    ],\n  },\n  to: '\"Support\" <support@example.com>',\n  // body: 'header<br/>{{fields.body.value}}<br/>footer',\n};\n","export const publicContactUs = {\n  name: 'app.PublicContactUs',\n  component: 'app.ContactUsWrapper',\n  componentToWrap: {\n    component: 'ContactUs',\n    store: {\n      component: 'RecordStore',\n      storeName: 'app.PublicContactUs',\n    },\n  },\n};\n","export const contactStore = {\n  name: 'app.ContactStore',\n  component: 'app.Contact',\n  isStore: true,\n};\n","// A contact component that captures the user's first name, last name and email address\nexport const contact = {\n  name: 'app.Contact',\n  component: 'Form',\n  fields: [\n    {\n      name: 'firstName',\n      component: 'TextField',\n      label: 'First Name',\n      required: true,\n\n      // When block is false, the next field will appear on the same line, i.e. the first name and\n      // last name will be on the same line\n      block: false,\n    },\n    {\n      name: 'lastName',\n      component: 'TextField',\n      label: 'Last Name',\n    },\n    {\n      name: 'email',\n      component: 'EmailField',\n      label: 'Email',\n    },\n  ],\n};\n","// Uses a RecordList to display a list of contacts\nexport const contacts = {\n  name: 'app.Contacts',\n  component: 'RecordList',\n  label: 'Contacts',\n\n  baseFormFactory: {\n    // This factory creates Contacts\n    component: 'Factory',\n    product: {\n      component: 'app.Contact',\n    },\n  },\n};\n","export const contactsDynamoDB = {\n  name: 'app.Contacts.DynamoDB',\n  component: 'app.Contacts',\n\n  // TODO: support sorting via secondary indexes:\n  // https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/LSI.html#LSI.Using\n  'fields.collection.forbidSort': true,\n\n  store: {\n    component: 'RecordStore',\n    storeName: 'app.Contacts.DynamoDBRecord',\n  },\n};\n","export const contactsDynamoDBConnector = {\n  name: 'app.Contacts.DynamoDBConnector',\n  component: 'app.Contacts',\n\n  // TODO: support sorting via secondary indexes:\n  // https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/LSI.html#LSI.Using\n  'fields.collection.forbidSort': true,\n\n  store: {\n    component: 'RecordStore',\n    storeName: 'app.Contacts.DynamoDBConnectorRecord',\n  },\n};\n","export const contactsGeneratedBackend = {\n  name: 'app.Contacts.GeneratedBackend',\n  component: 'app.Contacts',\n\n  store: {\n    component: 'RecordStore',\n    storeName: 'app.ContactStore',\n  },\n};\n","export const contactsLocalStorage = {\n  name: 'app.Contacts.LocalStorage',\n  component: 'app.Contacts',\n\n  // We will use local storage to persist the data. This could be easily swapped out to use Firebase\n  // or some other store. Or, you could create your own custom store to interact with a GraphQL/REST\n  // API.\n  store: {\n    component: 'LocalStorageStore',\n    storeName: 'contactsLocalStorage',\n  },\n};\n","export const contactsMySQL = {\n  name: 'app.Contacts.MySQL',\n  component: 'app.Contacts',\n\n  // TODO: enable sorting\n  'fields.collection.forbidSort': true,\n\n  store: {\n    component: 'RecordStore',\n    storeName: 'app.Contacts.MySQLRecord',\n  },\n};\n","export const contactsMySQLConnector = {\n  name: 'app.Contacts.MySQLConnector',\n  component: 'app.Contacts',\n\n  store: {\n    component: 'RecordStore',\n    storeName: 'app.Contacts.MySQLConnectorRecord',\n  },\n};\n","export const formBuilder = {\n  name: 'app.FormBuilder',\n  component: 'FormBuilder',\n  'fields.form.form.fields.fields.store': {\n    component: 'LocalStorageStore',\n    storeName: 'myForm',\n  },\n};\n","export const user = {\n  name: 'app.User',\n  component: 'User',\n  isStore: true,\n  fields: [\n    {\n      component: 'PersonNameField',\n      name: 'firstName',\n      label: 'First Name',\n      required: true,\n      block: false,\n      before: 'username',\n    },\n    {\n      component: 'PersonNameField',\n      name: 'lastName',\n      label: 'Last Name',\n      required: true,\n      before: 'username',\n    },\n    {\n      component: 'SelectField',\n      name: 'roles',\n      label: 'Roles',\n      multiple: true,\n      options: [{ value: 'admin', label: 'Admin' }],\n    },\n  ],\n\n  roles: ['standard'],\n\n  // TODO: reuse to provide default protection for all stores. Need an Access component?\n  access: {\n    form: {\n      create: ['admin'],\n      read: ['admin', 'standard'],\n      update: ['admin', 'owner'],\n      archive: ['admin'],\n    },\n    fields: {\n      password: {\n        update: ['admin', 'owner'],\n      },\n      roles: {\n        create: 'admin',\n        read: 'admin',\n        update: 'admin',\n      },\n    },\n  },\n};\n","export const users = {\n  name: 'app.Users',\n  component: 'Form',\n  fields: [\n    {\n      name: 'users',\n      label: 'Users',\n      component: 'UserList',\n      baseFormFactory: {\n        component: 'Factory',\n        product: {\n          component: 'app.User',\n        },\n      },\n      store: {\n        component: 'app.UserStore',\n      },\n    },\n  ],\n};\n","export const userSignup = {\n  name: 'app.UserSignup',\n  component: 'SignupEditor',\n  baseForm: {\n    component: 'app.User',\n  },\n  store: {\n    component: 'app.UserStore',\n  },\n};\n","export const userStore = {\n  name: 'app.UserStore',\n  component: 'RecordStore',\n  storeName: 'app.User',\n};\n","import { menuItems } from './menu-items';\n\nexport const app = {\n  name: 'app.App',\n  component: 'App',\n  basename: '/formfields.github.io', // Root of site is https://redgeoff.com/formfields.github.io\n  menu: {\n    component: 'Menu',\n    items: menuItems,\n  },\n  listeners: [\n    {\n      event: 'loggedOut',\n      actions: [\n        {\n          component: 'Redirect',\n          path: '/login',\n        },\n      ],\n    },\n  ],\n};\n","export const menuItems = [\n  {\n    // path: '/form-builder',\n    path: '/',\n    label: 'Form Builder',\n    content: {\n      component: 'app.FormBuilder',\n    },\n  },\n  // {\n  //   // The route to the list of contacts\n  //   path: '/contacts',\n  //   label: 'Contacts',\n  //   items: [\n  //     {\n  //       path: '/contacts-local-storage',\n  //       label: 'Contacts: LocalStorage',\n  //       content: {\n  //         component: 'app.Contacts.LocalStorage',\n  //       },\n  //     },\n  //     {\n  //       path: '/contacts-generated-backend',\n  //       label: 'Contacts: Generated Backend',\n  //       content: {\n  //         component: 'app.Contacts.GeneratedBackend',\n  //       },\n  //     },\n  //     {\n  //       path: '/contacts-dynamodb',\n  //       label: 'Contacts: DynamoDB',\n  //       content: {\n  //         component: 'app.Contacts.DynamoDB',\n  //       },\n  //     },\n  //     {\n  //       path: '/contacts-dynamodb-connector',\n  //       label: 'Contacts: DynamoDB Connector',\n  //       content: {\n  //         component: 'app.Contacts.DynamoDBConnector',\n  //       },\n  //     },\n  //     {\n  //       path: '/contacts-mysql',\n  //       label: 'Contacts: MySQL',\n  //       content: {\n  //         component: 'app.Contacts.MySQL',\n  //       },\n  //     },\n  //     {\n  //       path: '/contacts-mysql-connector',\n  //       label: 'Contacts: MySQL Connector',\n  //       content: {\n  //         component: 'app.Contacts.MySQLConnector',\n  //       },\n  //     },\n  //   ],\n  //   roles: ['admin', 'standard'],\n  // },\n\n  // {\n  //   path: '/users',\n  //   label: 'Users',\n  //   content: {\n  //     component: 'app.Users',\n  //   },\n  //   roles: ['admin'],\n  // },\n\n  // {\n  //   label: 'My Account',\n  //   items: [\n  //     {\n  //       path: '/account',\n  //       label: 'Account',\n  //       content: {\n  //         component: 'app.ViewAndEditAccount',\n  //       },\n  //     },\n  //     {\n  //       path: '/account/change-password',\n  //       label: 'Change Password',\n  //       content: {\n  //         component: 'app.ChangePassword',\n  //       },\n  //     },\n  //   ],\n  //   roles: ['admin', 'standard'],\n  // },\n\n  // {\n  //   path: '/public',\n  //   hidden: true,\n  //   items: [\n  //     {\n  //       path: '/',\n  //       content: {\n  //         component: 'Action',\n  //         actions: [\n  //           {\n  //             component: 'RedirectByRole',\n  //             routes: [\n  //               {\n  //                 roles: ['admin'],\n  //                 path: '/users',\n  //               },\n  //               {\n  //                 path: '/contacts',\n  //               },\n  //             ],\n  //           },\n  //         ],\n  //       },\n  //       // Force the user to be logged in before the actions above are executed\n  //       roles: ['admin', 'standard'],\n  //     },\n  //     {\n  //       path: '/login',\n  //       label: 'Login',\n  //       content: {\n  //         component: 'Card',\n  //         title: 'Login',\n  //         content: {\n  //           component: 'app.Login',\n  //         },\n  //       },\n  //       fullScreen: true,\n  //     },\n  //     {\n  //       path: '/signup',\n  //       label: 'Signup',\n  //       content: {\n  //         component: 'Card',\n  //         title: 'Signup',\n  //         content: {\n  //           component: 'app.UserSignup',\n  //         },\n  //       },\n  //       fullScreen: true,\n  //     },\n  //     {\n  //       path: '/recover-password',\n  //       content: {\n  //         component: 'Card',\n  //         title: 'Recover Password',\n  //         content: {\n  //           component: 'app.RecoverPassword',\n  //         },\n  //       },\n  //       fullScreen: true,\n  //     },\n  //     {\n  //       path: '/reset-password/:token',\n  //       content: {\n  //         component: 'Card',\n  //         title: 'Reset Password',\n  //         content: {\n  //           component: 'app.ResetPassword',\n  //         },\n  //       },\n  //       fullScreen: true,\n  //     },\n  //     {\n  //       path: '/contact-us',\n  //       content: {\n  //         component: 'Card',\n  //         title: 'Contact Us',\n  //         content: {\n  //           component: 'app.PublicContactUs',\n  //         },\n  //       },\n  //       fullScreen: true,\n  //     },\n  //   ],\n  // },\n\n  // {\n  //   path: '/contact',\n  //   label: 'Contact',\n  //   content: {\n  //     component: 'app.ContactUs',\n  //   },\n  //   roles: ['admin', 'standard'],\n  // },\n\n  // {\n  //   path: '/logout',\n  //   label: 'Logout',\n  //   content: {\n  //     component: 'Action',\n  //     actions: [\n  //       {\n  //         component: 'LogOutOfApp',\n  //       },\n  //       {\n  //         component: 'Redirect',\n  //         path: '/login',\n  //       },\n  //     ],\n  //   },\n  //   roles: ['admin', 'standard'],\n  // },\n];\n","// @ts-ignore\nimport compiler from 'mson/lib/compiler';\n\n// @ts-ignore\nimport register from 'mson/lib/compiler/register';\n\n// TODO: fix MSON build so can just use this instead:\n// import { compiler, register } from 'mson';\n\n// @ts-ignore\nimport globals from 'mson/lib/globals';\n\nimport * as components from '../../components';\n\n// @ts-ignore\nimport registrar from 'mson/lib/compiler/registrar';\n\n// @ts-ignore\nimport Component from 'mson/lib/component';\n\n// @ts-ignore\nimport uiComponents from 'mson-react/lib/components';\n\n// @ts-ignore\nimport optionalComponents from 'mson/lib/optional-components';\n\n// @ts-ignore\nimport FieldEditorFormUI from 'mson-react/lib/field-editor-form';\n\n// @ts-ignore\nimport FormEditorUI from 'mson-react/lib/form-editor';\n\n// Register optional core components\ncompiler.registerComponents(optionalComponents);\nuiComponents.FieldEditorForm = FieldEditorFormUI;\nuiComponents.FormEditor = FormEditorUI;\n\nconst appId = '101';\n\n// TODO: in a production app the appId should be set by the path or subdomain\nglobals.set({ appId });\n\n// TODO: properly set\nglobals.set({ reCAPTCHASiteKey: '6LdIbGMUAAAAAJnipR9t-SnWzCbn0ZX2myXBIauh' });\n\n// Make sure we only process frontend actions\nComponent.setLayer('frontEnd');\n\nexport async function loadAndCompileApp(loadStatically?: boolean) {\n  if (loadStatically) {\n    Object.values(components).forEach((component) => register(component));\n  } else {\n    const clientApp = await registrar.client.app.get({\n      id: appId,\n      includeDefinitions: true,\n    });\n    Object.values(clientApp.data.app.definitions).forEach((definition) =>\n      register(definition)\n    );\n  }\n\n  return compiler.newComponent({\n    component: 'app.App',\n  });\n}\n","// @ts-ignore\nimport Client from 'mson-server/lib/client';\n\n// @ts-ignore\nimport registrar from 'mson/lib/compiler/registrar';\n\nconst client = new Client({\n  url: 'http://localhost:4000/graphql',\n});\n\nregistrar.client = client;\n","import { loadAndCompileApp } from './mson-app';\n\n// @ts-ignore\nimport { render } from 'mson-react';\n\nimport './register-client';\n\n// @ts-ignore\nimport 'typeface-roboto';\n\n// Render the app\nconst loadAndRenderApp = async () => {\n  // Set to false to load during run time\n  const loadStatically = true;\n\n  const app = await loadAndCompileApp(loadStatically);\n  render(app);\n};\nloadAndRenderApp();\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _awaitAsyncGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/awaitAsyncGenerator\"));\n\nvar _wrapAsyncGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/wrapAsyncGenerator\"));\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar GroupClient = /*#__PURE__*/function () {\n  function GroupClient(props) {\n    (0, _classCallCheck2[\"default\"])(this, GroupClient);\n    this._client = props.client.getClient();\n  }\n\n  (0, _createClass2[\"default\"])(GroupClient, [{\n    key: \"_toGenerator\",\n    value: function _toGenerator(promiseFactory, props, queryName) {\n      var _this = this;\n\n      return (0, _wrapAsyncGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n        var clonedProps, first, loop, results, edges, i, edge;\n        return _regenerator[\"default\"].wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // Clone so that we don't mutate the original data\n                clonedProps = props ? _lodash[\"default\"].clone(props) : {};\n                first = _this.constructor.toFirst(props); // Use a loop as recursion doesn't yet work with async generators\n\n                loop = true;\n\n              case 3:\n                if (!loop) {\n                  _context.next = 24;\n                  break;\n                }\n\n                _context.next = 6;\n                return (0, _awaitAsyncGenerator2[\"default\"])(promiseFactory(clonedProps));\n\n              case 6:\n                results = _context.sent;\n\n                if (!results) {\n                  _context.next = 21;\n                  break;\n                }\n\n                edges = results.data[queryName].edges; // We need to use for so that we can yield\n\n                i = 0;\n\n              case 10:\n                if (!(i < edges.length)) {\n                  _context.next = 18;\n                  break;\n                }\n\n                edge = edges[i];\n                _context.next = 14;\n                return edge;\n\n              case 14:\n                clonedProps.after = edge.cursor;\n\n              case 15:\n                i++;\n                _context.next = 10;\n                break;\n\n              case 18:\n                // No more edges?\n                if (edges.length < first) {\n                  loop = false;\n                }\n\n                _context.next = 22;\n                break;\n\n              case 21:\n                // No more edges\n                loop = false;\n\n              case 22:\n                _context.next = 3;\n                break;\n\n              case 24:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    }\n  }, {\n    key: \"_toGeneratorWrapper\",\n    value: /*#__PURE__*/_regenerator[\"default\"].mark(function _toGeneratorWrapper(promiseFactory, props, queryName) {\n      return _regenerator[\"default\"].wrap(function _toGeneratorWrapper$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              return _context2.delegateYield(this._toGenerator(promiseFactory, props, queryName), \"t0\", 1);\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _toGeneratorWrapper, this);\n    })\n  }, {\n    key: \"_toGeneratorOrArray\",\n    value: function _toGeneratorOrArray(promiseFactory, props, queryName) {\n      if (props && props.asArray) {\n        var clonedProps = _lodash[\"default\"].clone(props);\n\n        delete clonedProps.asArray;\n        return promiseFactory(clonedProps);\n      } else {\n        return this._toGeneratorWrapper(promiseFactory, props, queryName);\n      }\n    }\n  }], [{\n    key: \"toFirst\",\n    value: function toFirst(props) {\n      // NOTE: in the future we could support first for before and last for after by inverting the\n      // order and then using a reverse before returning the rows.\n      var first = GroupClient.MAX_FIRST;\n\n      if (props) {\n        if (!props.before && props.last) {\n          throw new Error('last only supported when using before');\n        } else if (props.before && props.first) {\n          throw new Error('first not supported when using before');\n        } else if (props.first) {\n          first = props.first;\n        } else if (props.last) {\n          first = props.last;\n        }\n      }\n\n      return first;\n    }\n  }]);\n  return GroupClient;\n}();\n\nGroupClient.MAX_FIRST = 100;\nvar _default = GroupClient;\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _user = _interopRequireDefault(require(\"../user\"));\n\nvar _default = new _user[\"default\"]('mson-session');\n\nexports[\"default\"] = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _api = _interopRequireDefault(require(\"./api\"));\n\nvar _client = _interopRequireDefault(require(\"./client\"));\n\nvar _sessionUser = _interopRequireDefault(require(\"./api/session-user\"));\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar APIClient = /*#__PURE__*/function (_API) {\n  (0, _inherits2[\"default\"])(APIClient, _API);\n\n  var _super = _createSuper(APIClient);\n\n  function APIClient(props) {\n    (0, _classCallCheck2[\"default\"])(this, APIClient);\n    return _super.call(this, {\n      client: new _client[\"default\"]({\n        url: props.url,\n        user: _sessionUser[\"default\"]\n      })\n    });\n  }\n\n  return APIClient;\n}(_api[\"default\"]);\n\nexports[\"default\"] = APIClient;"],"sourceRoot":""}